/**
* !!! DO NOT EDIT THIS FILE DIRECTLY !!!
* ! This file has been generated automatically. See the config/*.js version of
* ! this file to make permanent modifications!
*/

"use strict";

require("source-map-support/register");

var _webpackBundleAnalyzer = require("webpack-bundle-analyzer");

var _fs = require("fs");

var _path = _interopRequireDefault(require("path"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

require('dotenv').config();

const {
  ANALYZE_WEBPACK_BUNDLES
} = process.env;
const paths = {
  components: `${__dirname}/components`
};

module.exports = (phase, {
  defaultConfig
}) => {
  return {
    webpack: (config, {
      isServer
    }) => {
      if (ANALYZE_WEBPACK_BUNDLES) {
        config.plugins.push(new _webpackBundleAnalyzer.BundleAnalyzerPlugin({
          analyzerMode: 'server',
          analyzerPort: isServer ? 8888 : 8889,
          openAnalyzer: true
        }));
      }

      (0, _fs.readdirSync)(paths.components).map(dir => [_path.default.resolve(paths.components, dir), dir]).filter(([dirpath]) => (0, _fs.lstatSync)(dirpath).isDirectory()).forEach(([dirpath, dirname]) => config.resolve.alias[dirname] = dirpath);
      return config;
    },
    serverRuntimeConfig: {},
    publicRuntimeConfig: {}
  };
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbmZpZy9uZXh0LmNvbmZpZy5qcyJdLCJuYW1lcyI6WyJyZXF1aXJlIiwiY29uZmlnIiwiQU5BTFlaRV9XRUJQQUNLX0JVTkRMRVMiLCJwcm9jZXNzIiwiZW52IiwicGF0aHMiLCJjb21wb25lbnRzIiwiX19kaXJuYW1lIiwibW9kdWxlIiwiZXhwb3J0cyIsInBoYXNlIiwiZGVmYXVsdENvbmZpZyIsIndlYnBhY2siLCJpc1NlcnZlciIsInBsdWdpbnMiLCJwdXNoIiwiQnVuZGxlQW5hbHl6ZXJQbHVnaW4iLCJhbmFseXplck1vZGUiLCJhbmFseXplclBvcnQiLCJvcGVuQW5hbHl6ZXIiLCJtYXAiLCJkaXIiLCJwYXRoIiwicmVzb2x2ZSIsImZpbHRlciIsImRpcnBhdGgiLCJpc0RpcmVjdG9yeSIsImZvckVhY2giLCJkaXJuYW1lIiwiYWxpYXMiLCJzZXJ2ZXJSdW50aW1lQ29uZmlnIiwicHVibGljUnVudGltZUNvbmZpZyJdLCJtYXBwaW5ncyI6Ijs7OztBQUVBOztBQUNBOztBQUNBOzs7O0FBRUFBLE9BQU8sQ0FBQyxRQUFELENBQVAsQ0FBa0JDLE1BQWxCOztBQUVBLE1BQU07QUFBRUMsRUFBQUE7QUFBRixJQUE4QkMsT0FBTyxDQUFDQyxHQUE1QztBQUVBLE1BQU1DLEtBQUssR0FBRztBQUNWQyxFQUFBQSxVQUFVLEVBQUcsR0FBRUMsU0FBVTtBQURmLENBQWQ7O0FBSUFDLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQixDQUFDQyxLQUFELEVBQWdCO0FBQUVDLEVBQUFBO0FBQUYsQ0FBaEIsS0FBOEM7QUFDM0QsU0FBTztBQUNIQyxJQUFBQSxPQUFPLEVBQUUsQ0FBQ1gsTUFBRCxFQUFpQjtBQUFFWSxNQUFBQTtBQUFGLEtBQWpCLEtBQTBDO0FBQy9DLFVBQUdYLHVCQUFILEVBQTRCO0FBQ3hCRCxRQUFBQSxNQUFNLENBQUNhLE9BQVAsQ0FBZUMsSUFBZixDQUFvQixJQUFJQywyQ0FBSixDQUF5QjtBQUN6Q0MsVUFBQUEsWUFBWSxFQUFFLFFBRDJCO0FBRXpDQyxVQUFBQSxZQUFZLEVBQUVMLFFBQVEsR0FBRyxJQUFILEdBQVUsSUFGUztBQUd6Q00sVUFBQUEsWUFBWSxFQUFFO0FBSDJCLFNBQXpCLENBQXBCO0FBS0g7O0FBcUJELDJCQUFZZCxLQUFLLENBQUNDLFVBQWxCLEVBQ0tjLEdBREwsQ0FDU0MsR0FBRyxJQUFJLENBQUVDLGNBQUtDLE9BQUwsQ0FBYWxCLEtBQUssQ0FBQ0MsVUFBbkIsRUFBK0JlLEdBQS9CLENBQUYsRUFBdUNBLEdBQXZDLENBRGhCLEVBRUtHLE1BRkwsQ0FFWSxDQUFDLENBQUVDLE9BQUYsQ0FBRCxLQUFpQixtQkFBVUEsT0FBVixFQUFtQkMsV0FBbkIsRUFGN0IsRUFHS0MsT0FITCxDQUdhLENBQUMsQ0FBRUYsT0FBRixFQUFXRyxPQUFYLENBQUQsS0FBMEIzQixNQUFNLENBQUNzQixPQUFQLENBQWVNLEtBQWYsQ0FBcUJELE9BQXJCLElBQWdDSCxPQUh2RTtBQUtBLGFBQU94QixNQUFQO0FBQ0gsS0FuQ0U7QUFzQ0g2QixJQUFBQSxtQkFBbUIsRUFBRSxFQXRDbEI7QUEyQ0hDLElBQUFBLG1CQUFtQixFQUFFO0FBM0NsQixHQUFQO0FBK0NILENBaEREIiwic291cmNlc0NvbnRlbnQiOlsiLyogQGZsb3cgKi9cblxuaW1wb3J0IHsgQnVuZGxlQW5hbHl6ZXJQbHVnaW4gfSBmcm9tICd3ZWJwYWNrLWJ1bmRsZS1hbmFseXplcidcbmltcG9ydCB7IHJlYWRkaXJTeW5jLCBsc3RhdFN5bmMgfSBmcm9tICdmcydcbmltcG9ydCBwYXRoIGZyb20gJ3BhdGgnXG5cbnJlcXVpcmUoJ2RvdGVudicpLmNvbmZpZygpO1xuXG5jb25zdCB7IEFOQUxZWkVfV0VCUEFDS19CVU5ETEVTIH0gPSBwcm9jZXNzLmVudjtcblxuY29uc3QgcGF0aHMgPSB7XG4gICAgY29tcG9uZW50czogYCR7X19kaXJuYW1lfS9jb21wb25lbnRzYCxcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gKHBoYXNlOiBzdHJpbmcsIHsgZGVmYXVsdENvbmZpZyB9OiBPYmplY3QpID0+IHsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bnVzZWQtdmFyc1xuICAgIHJldHVybiB7XG4gICAgICAgIHdlYnBhY2s6IChjb25maWc6IE9iamVjdCwgeyBpc1NlcnZlciB9OiBPYmplY3QpID0+IHtcbiAgICAgICAgICAgIGlmKEFOQUxZWkVfV0VCUEFDS19CVU5ETEVTKSB7XG4gICAgICAgICAgICAgICAgY29uZmlnLnBsdWdpbnMucHVzaChuZXcgQnVuZGxlQW5hbHl6ZXJQbHVnaW4oe1xuICAgICAgICAgICAgICAgICAgICBhbmFseXplck1vZGU6ICdzZXJ2ZXInLFxuICAgICAgICAgICAgICAgICAgICBhbmFseXplclBvcnQ6IGlzU2VydmVyID8gODg4OCA6IDg4ODksXG4gICAgICAgICAgICAgICAgICAgIG9wZW5BbmFseXplcjogdHJ1ZVxuICAgICAgICAgICAgICAgIH0pKVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBjb25maWcuZW50cnkgPSAnLi9zcmMvaW5kZXguanMnO1xuICAgICAgICAgICAgLy8gY29uZmlnLm91dHB1dCA9IHtcbiAgICAgICAgICAgIC8vICAgICBwYXRoOiBfX2Rpcm5hbWUgKyAnL2Rpc3QnLFxuICAgICAgICAgICAgLy8gICAgIHB1YmxpY1BhdGg6ICcvJyxcbiAgICAgICAgICAgIC8vICAgICBmaWxlbmFtZTogJ2J1bmRsZS5qcydcbiAgICAgICAgICAgIC8vIH07XG5cbiAgICAgICAgICAgIC8vIGNvbmZpZy5kZXZTZXJ2ZXIgPSB7XG4gICAgICAgICAgICAvLyAgICAgY29udGVudEJhc2U6ICcuL2Rpc3QnXG4gICAgICAgICAgICAvLyB9O1xuXG4gICAgICAgICAgICAvLyBjb25maWcubW9kdWxlLnJ1bGVzLnB1c2goe1xuICAgICAgICAgICAgLy8gICAgIHRlc3Q6IC9cXC5qcyQvLFxuICAgICAgICAgICAgLy8gICAgIGV4Y2x1ZGU6IC9ub2RlX21vZHVsZXMvLFxuICAgICAgICAgICAgLy8gICAgIHVzZToge1xuICAgICAgICAgICAgLy8gICAgICAgICBsb2FkZXI6ICdiYWJlbC1sb2FkZXInXG4gICAgICAgICAgICAvLyAgICAgfVxuICAgICAgICAgICAgLy8gfSk7XG5cbiAgICAgICAgICAgIHJlYWRkaXJTeW5jKHBhdGhzLmNvbXBvbmVudHMpXG4gICAgICAgICAgICAgICAgLm1hcChkaXIgPT4gWyBwYXRoLnJlc29sdmUocGF0aHMuY29tcG9uZW50cywgZGlyKSwgZGlyIF0pXG4gICAgICAgICAgICAgICAgLmZpbHRlcigoWyBkaXJwYXRoIF0pID0+IGxzdGF0U3luYyhkaXJwYXRoKS5pc0RpcmVjdG9yeSgpKVxuICAgICAgICAgICAgICAgIC5mb3JFYWNoKChbIGRpcnBhdGgsIGRpcm5hbWUgXSkgPT4gY29uZmlnLnJlc29sdmUuYWxpYXNbZGlybmFtZV0gPSBkaXJwYXRoKTtcblxuICAgICAgICAgICAgcmV0dXJuIGNvbmZpZztcbiAgICAgICAgfSxcblxuICAgICAgICAvLyA/IFdpbGwgb25seSBiZSBhdmFpbGFibGUgb24gdGhlIHNlcnZlciBzaWRlXG4gICAgICAgIHNlcnZlclJ1bnRpbWVDb25maWc6IHtcbiAgICAgICAgICAgIC8vIC4uLlxuICAgICAgICB9LFxuXG4gICAgICAgIC8vID8gV2lsbCBiZSBhdmFpbGFibGUgb24gYm90aCBzZXJ2ZXIgYW5kIGNsaWVudFxuICAgICAgICBwdWJsaWNSdW50aW1lQ29uZmlnOiB7XG4gICAgICAgICAgICAvLyAuLi5cbiAgICAgICAgfVxuICAgIH1cbn07XG4iXX0=