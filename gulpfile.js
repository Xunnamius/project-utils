/**
* !!! DO NOT EDIT THIS FILE DIRECTLY !!!
* ! This file has been generated automatically. See the config/*.js version of
* ! this file to make permanent modifications!
*/

"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.cleanTypes = exports.regenerate = exports.eject = void 0;

require("source-map-support/register");

var _fs = require("fs");

var _util = require("util");

var _gulp = _interopRequireDefault(require("gulp"));

var _gulpTap = _interopRequireDefault(require("gulp-tap"));

var _del = _interopRequireDefault(require("del"));

var _fancyLog = _interopRequireDefault(require("fancy-log"));

var _parseGitignore = _interopRequireDefault(require("parse-gitignore"));

var _core = require("@babel/core");

var _path = require("path");

var _inquirer = _interopRequireDefault(require("inquirer"));

var _replaceInFile = _interopRequireDefault(require("replace-in-file"));

var _shelljs = _interopRequireDefault(require("shelljs"));

var _chalk = _interopRequireDefault(require("chalk"));

var _devUtils = require("./src/dev-utils");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

_shelljs.default.config.silent = true;
_shelljs.default.config.fatal = true;
const paths = {};
paths.flowTyped = 'flow-typed';
paths.flowTypedGitIgnore = `${paths.flowTyped}/.gitignore`;
paths.build = `build`;
paths.buildGitIgnore = `${paths.build}/.gitignore`;
paths.configs = 'config';
paths.packageJson = 'package.json';
paths.launchJson = '.vscode/launch.json';
paths.launchJsonDist = '.vscode/launch.dist.json';
paths.env = '.env';
paths.envDist = 'dist.env';
paths.gitProjectDir = '.git';
paths.gitIgnore = '.gitignore';
paths.packageLockJson = 'package-lock.json';
paths.regenTargets = [`${paths.configs}/*.js`];
const CLI_BANNER = `/**
* !!! DO NOT EDIT THIS FILE DIRECTLY !!!
* ! This file has been generated automatically. See the config/*.js version of
* ! this file to make permanent modifications!
*/\n\n`;
const readFileAsync = (0, _util.promisify)(_fs.readFile);

const cleanTypes = async () => {
  (0, _devUtils.populateEnv)();
  const targets = (0, _parseGitignore.default)((await readFileAsync(paths.flowTypedGitIgnore)));
  (0, _fancyLog.default)(`Deletion targets @ ${paths.flowTyped}/: "${targets.join('" "')}"`);
  (0, _del.default)(targets, {
    cwd: paths.flowTyped
  });
};

exports.cleanTypes = cleanTypes;
cleanTypes.description = `Resets the ${paths.flowTyped} directory to a pristine state`;

const regenerate = () => {
  (0, _devUtils.populateEnv)();
  (0, _fancyLog.default)(`Regenerating targets: "${paths.regenTargets.join('" "')}"`);
  process.env.BABEL_ENV = 'generator';
  return _gulp.default.src(paths.regenTargets).pipe((0, _gulpTap.default)(file => file.contents = Buffer.from(CLI_BANNER + (0, _core.transformSync)(file.contents.toString(), {
    sourceFileName: (0, _path.relative)(__dirname, file.path)
  }).code))).pipe(_gulp.default.dest('.'));
};

exports.regenerate = regenerate;
regenerate.description = 'Invokes babel on the files in config, transpiling them into their project root versions';

const eject = () => _inquirer.default.prompt([{
  type: 'input',
  name: 'package.name',
  message: '[package.json] Specify name for this project (must be valid as a directory name)'
}, {
  type: 'input',
  name: 'package.desc',
  message: '[package.json] Very briefly describe this project'
}, {
  type: 'input',
  name: 'package.repo.url',
  message: '[package.json] Specify a git repository URL'
}, {
  type: 'input',
  name: 'debug.address',
  message: '[launch.json] Specify your dev/remote/server ip address (the one running node)',
  default: '192.168.115.5'
}, {
  type: 'input',
  name: 'debug.url',
  message: '[launch.json] Specify the URL entry point for your application',
  default: 'http://dev.local:80'
}, {
  type: 'input',
  name: 'debug.remoteRoot',
  message: "[launch.json] Specify an *absolute* path to this project's root on remote/server"
}, {
  type: 'confirm',
  name: 'installTypes',
  message: 'Do you want to install Flow types for all local packages?',
  default: true
}, {
  type: 'confirm',
  name: 'confirm',
  message: 'Does everything look good?',
  default: false
}]).then(async answers => {
  if (!answers.confirm) return _fancyLog.default.error('Task aborted!');

  try {
    _fancyLog.default.info(`Moving ${paths.envDist} -> ${paths.env}`);

    _shelljs.default.mv(paths.envDist, paths.env);

    _fancyLog.default.info(`Moving ${paths.launchJsonDist} -> ${paths.launchJson}`);

    _shelljs.default.mv(paths.launchJsonDist, paths.launchJson);

    _fancyLog.default.info(`Mutating ${paths.packageJson}`);

    const delta1 = await (0, _replaceInFile.default)({
      files: paths.packageJson,
      from: [/("name": ?)".*?"/g, /("description": ?)".*?"/g, /("url": ?)".*?"/g],
      to: [`$1"${answers.package.name}"`, `$1"${answers.package.desc}"`, `$1"${answers.package.repo.url}"`]
    });

    _fancyLog.default.info(`Mutating ${paths.launchJson}`);

    const delta2 = await (0, _replaceInFile.default)({
      files: paths.launchJson,
      from: [/("address": ?)".*?"/g, /("remoteRoot": ?)".*?"/g, /("url": ?)".*?"/g],
      to: [`$1"${answers.debug.address}"`, `$1"${answers.debug.remoteRoot}"`, `$1"${answers.debug.url}"`]
    });

    _fancyLog.default.info(`Mutating ${paths.gitIgnore}`);

    const delta3 = await (0, _replaceInFile.default)({
      files: paths.gitIgnore,
      from: 'package-lock.json',
      to: ''
    });
    if (!delta1.length) throw new Error(`There was an error attempting to access "${paths.packageJson}"`);
    if (!delta2.length) throw new Error(`There was an error attempting to access "${paths.launchJson}"`);
    if (!delta3.length) throw new Error(`There was an error attempting to access "${paths.gitignore}"`);

    if (answers.installTypes) {
      _fancyLog.default.info(`Installing flow types (please be patient)`);

      _shelljs.default.exec('npm run install-types');
    }

    _fancyLog.default.info(`Removing ${paths.packageLockJson}`);

    _shelljs.default.rm('-f', paths.packageLockJson);

    _fancyLog.default.info('Removing boilerplate git repository');

    _shelljs.default.rm('-rf', '.git');

    _fancyLog.default.info('Initializing new git repository');

    _shelljs.default.exec('git init');

    _fancyLog.default.info(`Renaming project dir to ${answers.package.name}`);

    _shelljs.default.exec(`cd .. && mv '${(0, _path.parse)(__dirname).name}' '${answers.package.name}'`);

    _fancyLog.default.info(_chalk.default.green('Boilerplate ejection completed successfully!'));

    (0, _fancyLog.default)(`Next steps:
\t- If you're going to host this project on Github/Gitlab, begin that process now
\t- Check over ${paths.packageJson} for accuracy; remove any unnecessary dependencies/devDependencies and run scripts
\t- Check over ${paths.launchJson} if you plan on using launch configurations
\t- Look over ${paths.env} and configure it to your liking
\t- Consider removing ${paths.env} from ${paths.gitIgnore} if there're no secret values being passed
\t- Your Gulp file is at ./${paths.configs}/gulpfile.js ${_chalk.default.bold('and not the project root')}. Feel free to customize it!\n`);
  } catch (err) {
    _fancyLog.default.error(_chalk.default.red(`ERROR: ${err.toString()}`));
  }
});

exports.eject = eject;
eject.description = 'Assists in configuring the boilerplate to be something useful';
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbmZpZy9ndWxwZmlsZS5qcyJdLCJuYW1lcyI6WyJzaCIsImNvbmZpZyIsInNpbGVudCIsImZhdGFsIiwicGF0aHMiLCJmbG93VHlwZWQiLCJmbG93VHlwZWRHaXRJZ25vcmUiLCJidWlsZCIsImJ1aWxkR2l0SWdub3JlIiwiY29uZmlncyIsInBhY2thZ2VKc29uIiwibGF1bmNoSnNvbiIsImxhdW5jaEpzb25EaXN0IiwiZW52IiwiZW52RGlzdCIsImdpdFByb2plY3REaXIiLCJnaXRJZ25vcmUiLCJwYWNrYWdlTG9ja0pzb24iLCJyZWdlblRhcmdldHMiLCJDTElfQkFOTkVSIiwicmVhZEZpbGVBc3luYyIsInJlYWRGaWxlIiwiY2xlYW5UeXBlcyIsInRhcmdldHMiLCJqb2luIiwiY3dkIiwiZGVzY3JpcHRpb24iLCJyZWdlbmVyYXRlIiwicHJvY2VzcyIsIkJBQkVMX0VOViIsImd1bHAiLCJzcmMiLCJwaXBlIiwiZmlsZSIsImNvbnRlbnRzIiwiQnVmZmVyIiwiZnJvbSIsInRvU3RyaW5nIiwic291cmNlRmlsZU5hbWUiLCJfX2Rpcm5hbWUiLCJwYXRoIiwiY29kZSIsImRlc3QiLCJlamVjdCIsInRlcm0iLCJwcm9tcHQiLCJ0eXBlIiwibmFtZSIsIm1lc3NhZ2UiLCJkZWZhdWx0IiwidGhlbiIsImFuc3dlcnMiLCJjb25maXJtIiwibG9nIiwiZXJyb3IiLCJpbmZvIiwibXYiLCJkZWx0YTEiLCJmaWxlcyIsInRvIiwicGFja2FnZSIsImRlc2MiLCJyZXBvIiwidXJsIiwiZGVsdGEyIiwiZGVidWciLCJhZGRyZXNzIiwicmVtb3RlUm9vdCIsImRlbHRhMyIsImxlbmd0aCIsIkVycm9yIiwiZ2l0aWdub3JlIiwiaW5zdGFsbFR5cGVzIiwiZXhlYyIsInJtIiwiY2hhbGsiLCJncmVlbiIsImJvbGQiLCJlcnIiLCJyZWQiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQVNBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOztBQUNB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VDs7QUFDQXZELHFCQUFHeUUsSUFBSCxDQUFRLFVBQVI7O0FBRUFwQixzQkFBSUUsSUFBSixDQUFVLDJCQUEwQkosT0FBTyxDQUFDUyxPQUFSLENBQWdCYixJQUFLLEVBQXpEOztBQUNBL0MscUJBQUd5RSxJQUFILENBQVMsZ0JBQWUsaUJBQVVsQyxTQUFWLEVBQXFCUSxJQUFLLE1BQUtJLE9BQU8sQ0FBQ1MsT0FBUixDQUFnQmIsSUFBSyxHQUE1RTs7QUFFQU0sc0JBQUlFLElBQUosQ0FBU29CLGVBQU1DLEtBQU4sQ0FBWSw4Q0FBWixDQUFUOztBQUNBLDJCQUFLOztpQkFFSXhFLEtBQUssQ0FBQ00sV0FBWTtpQkFDbEJOLEtBQUssQ0FBQ08sVUFBVztnQkFDbEJQLEtBQUssQ0FBQ1MsR0FBSTt3QkFDRlQsS0FBSyxDQUFDUyxHQUFJLFNBQVFULEtBQUssQ0FBQ1ksU0FBVTs2QkFDN0JaLEtBQUssQ0FBQ0ssT0FBUSxnQkFBZWtFLGVBQU1FLElBQU4sQ0FBVywwQkFBWCxDQUF1QyxnQ0FOekY7QUFPSCxHQS9ERCxDQWlFQSxPQUFNQyxHQUFOLEVBQVc7QUFDUHpCLHNCQUFJQyxLQUFKLENBQVVxQixlQUFNSSxHQUFOLENBQVcsVUFBU0QsR0FBRyxDQUFDekMsUUFBSixFQUFlLEVBQW5DLENBQVY7QUFDSDtBQUNKLENBckhtQixDQUFwQjs7O0FBdUhBTSxLQUFLLENBQUNqQixXQUFOLEdBQW9CLCtEQUFwQiIsInNvdXJjZXNDb250ZW50IjpbIi8qIEBmbG93ICovXG5cbi8vID8gVG8gcmVnZW5lcmF0ZSB0aGlzIGZpbGUgKGkuZS4gaWYgeW91IGNoYW5nZWQgaXQgYW5kIHdhbnQgeW91ciBjaGFuZ2VzIHRvXG4vLyA/IGJlIHBlcm1hbmVudCksIGNhbGwgYG5wbSBydW4gcmVnZW5lcmF0ZWAgYWZ0ZXJ3YXJkc1xuXG4vLyAhIEJlIHN1cmUgdGhhdCB0YXNrcyBleHBlY3RlZCB0byBydW4gb24gbnBtIGluc3RhbGwgKG1hcmtlZCBAZGVwZW5kZW50KSBoYXZlXG4vLyAhIGFsbCByZXF1aXJlZCBwYWNrYWdlcyBsaXN0ZWQgdW5kZXIgXCJkZXBlbmRlbmNpZXNcIiBpbnN0ZWFkIG9mXG4vLyAhIFwiZGV2RGVwZW5kZW5jaWVzXCIgaW4gdGhpcyBwcm9qZWN0J3MgcGFja2FnZS5qc29uXG5cbmltcG9ydCB7IHJlYWRGaWxlIH0gZnJvbSAnZnMnXG5pbXBvcnQgeyBwcm9taXNpZnkgfSBmcm9tICd1dGlsJ1xuaW1wb3J0IGd1bHAgZnJvbSAnZ3VscCdcbmltcG9ydCB0YXAgZnJvbSAnZ3VscC10YXAnXG5pbXBvcnQgZGVsIGZyb20gJ2RlbCdcbmltcG9ydCBsb2cgZnJvbSAnZmFuY3ktbG9nJ1xuaW1wb3J0IHBhcnNlR2l0SWdub3JlIGZyb20gJ3BhcnNlLWdpdGlnbm9yZSdcbmltcG9ydCB7IHRyYW5zZm9ybVN5bmMgYXMgYmFiZWwgfSBmcm9tICdAYmFiZWwvY29yZSdcbmltcG9ydCB7IHBhcnNlIGFzIHBhcnNlUGF0aCwgcmVsYXRpdmUgYXMgcmVsUGF0aCB9IGZyb20gJ3BhdGgnXG5pbXBvcnQgdGVybSBmcm9tICdpbnF1aXJlcidcbmltcG9ydCByZXBsYWNlSW5GaWxlIGZyb20gJ3JlcGxhY2UtaW4tZmlsZSdcbmltcG9ydCBzaCBmcm9tICdzaGVsbGpzJ1xuaW1wb3J0IGNoYWxrIGZyb20gJ2NoYWxrJ1xuXG5pbXBvcnQgeyBwb3B1bGF0ZUVudiB9IGZyb20gJy4vc3JjL2Rldi11dGlscydcblxuc2guY29uZmlnLnNpbGVudCA9IHRydWU7XG5zaC5jb25maWcuZmF0YWwgPSB0cnVlO1xuXG5jb25zdCBwYXRocyA9IHt9O1xuXG5wYXRocy5mbG93VHlwZWQgPSAnZmxvdy10eXBlZCc7XG5wYXRocy5mbG93VHlwZWRHaXRJZ25vcmUgPSBgJHtwYXRocy5mbG93VHlwZWR9Ly5naXRpZ25vcmVgO1xucGF0aHMuYnVpbGQgPSBgYnVpbGRgO1xucGF0aHMuYnVpbGRHaXRJZ25vcmUgPSBgJHtwYXRocy5idWlsZH0vLmdpdGlnbm9yZWA7XG5wYXRocy5jb25maWdzID0gJ2NvbmZpZyc7XG5wYXRocy5wYWNrYWdlSnNvbiA9ICdwYWNrYWdlLmpzb24nO1xucGF0aHMubGF1bmNoSnNvbiA9ICcudnNjb2RlL2xhdW5jaC5qc29uJztcbnBhdGhzLmxhdW5jaEpzb25EaXN0ID0gJy52c2NvZGUvbGF1bmNoLmRpc3QuanNvbic7XG5wYXRocy5lbnYgPSAnLmVudic7XG5wYXRocy5lbnZEaXN0ID0gJ2Rpc3QuZW52JztcbnBhdGhzLmdpdFByb2plY3REaXIgPSAnLmdpdCc7XG5wYXRocy5naXRJZ25vcmUgPSAnLmdpdGlnbm9yZSc7XG5wYXRocy5wYWNrYWdlTG9ja0pzb24gPSAncGFja2FnZS1sb2NrLmpzb24nO1xuXG5wYXRocy5yZWdlblRhcmdldHMgPSBbXG4gICAgYCR7cGF0aHMuY29uZmlnc30vKi5qc2Bcbl07XG5cbmNvbnN0IENMSV9CQU5ORVIgPSBgLyoqXG4qICEhISBETyBOT1QgRURJVCBUSElTIEZJTEUgRElSRUNUTFkgISEhXG4qICEgVGhpcyBmaWxlIGhhcyBiZWVuIGdlbmVyYXRlZCBhdXRvbWF0aWNhbGx5LiBTZWUgdGhlIGNvbmZpZy8qLmpzIHZlcnNpb24gb2ZcbiogISB0aGlzIGZpbGUgdG8gbWFrZSBwZXJtYW5lbnQgbW9kaWZpY2F0aW9ucyFcbiovXFxuXFxuYDtcblxuY29uc3QgcmVhZEZpbGVBc3luYyA9IHByb21pc2lmeShyZWFkRmlsZSk7XG5cbi8vICogQ0xFQU5UWVBFU1xuXG5jb25zdCBjbGVhblR5cGVzID0gYXN5bmMgKCkgPT4ge1xuICAgIHBvcHVsYXRlRW52KCk7XG5cbiAgICBjb25zdCB0YXJnZXRzID0gcGFyc2VHaXRJZ25vcmUoYXdhaXQgcmVhZEZpbGVBc3luYyhwYXRocy5mbG93VHlwZWRHaXRJZ25vcmUpKTtcblxuICAgIGxvZyhgRGVsZXRpb24gdGFyZ2V0cyBAICR7cGF0aHMuZmxvd1R5cGVkfS86IFwiJHt0YXJnZXRzLmpvaW4oJ1wiIFwiJyl9XCJgKTtcbiAgICBkZWwodGFyZ2V0cywgeyBjd2Q6IHBhdGhzLmZsb3dUeXBlZCB9KTtcbn07XG5cbmNsZWFuVHlwZXMuZGVzY3JpcHRpb24gPSBgUmVzZXRzIHRoZSAke3BhdGhzLmZsb3dUeXBlZH0gZGlyZWN0b3J5IHRvIGEgcHJpc3RpbmUgc3RhdGVgO1xuXG4vLyAqIFJFR0VORVJBVEVcblxuLy8gPyBJZiB5b3UgY2hhbmdlIHRoaXMgZnVuY3Rpb24sIHJ1biBgbnBtIHJ1biByZWdlbmVyYXRlYCB0d2ljZTogb25jZSB0b1xuLy8gPyBjb21waWxlIHRoaXMgbmV3IGZ1bmN0aW9uIGFuZCBvbmNlIGFnYWluIHRvIGNvbXBpbGUgaXRzZWxmIHdpdGggdGhlIG5ld2x5XG4vLyA/IGNvbXBpbGVkIGxvZ2ljLiBJZiB0aGVyZSBpcyBhbiBlcnJvciB0aGF0IHByZXZlbnRzIHJlZ2VuZXJhdGlvbiwgeW91IGNhblxuLy8gPyBydW4gYG5wbSBydW4gZ2VuZXJhdGVgIHRoZW4gYG5wbSBydW4gcmVnZW5lcmF0ZWAgaW5zdGVhZC5cbmNvbnN0IHJlZ2VuZXJhdGUgPSAoKSA9PiB7XG4gICAgcG9wdWxhdGVFbnYoKTtcblxuICAgIGxvZyhgUmVnZW5lcmF0aW5nIHRhcmdldHM6IFwiJHtwYXRocy5yZWdlblRhcmdldHMuam9pbignXCIgXCInKX1cImApO1xuXG4gICAgcHJvY2Vzcy5lbnYuQkFCRUxfRU5WID0gJ2dlbmVyYXRvcic7XG5cbiAgICByZXR1cm4gZ3VscC5zcmMocGF0aHMucmVnZW5UYXJnZXRzKVxuICAgICAgICAgICAgICAgLnBpcGUodGFwKGZpbGUgPT4gZmlsZS5jb250ZW50cyA9IEJ1ZmZlci5mcm9tKENMSV9CQU5ORVIgKyBiYWJlbChmaWxlLmNvbnRlbnRzLnRvU3RyaW5nKCksIHtcbiAgICAgICAgICAgICAgICAgICBzb3VyY2VGaWxlTmFtZTogcmVsUGF0aChfX2Rpcm5hbWUsIGZpbGUucGF0aClcbiAgICAgICAgICAgICAgIH0pLmNvZGUpKSlcbiAgICAgICAgICAgICAgIC5waXBlKGd1bHAuZGVzdCgnLicpKTtcbn07XG5cbnJlZ2VuZXJhdGUuZGVzY3JpcHRpb24gPSAnSW52b2tlcyBiYWJlbCBvbiB0aGUgZmlsZXMgaW4gY29uZmlnLCB0cmFuc3BpbGluZyB0aGVtIGludG8gdGhlaXIgcHJvamVjdCByb290IHZlcnNpb25zJztcblxuLy8gKiBFSkVDVFxuXG5jb25zdCBlamVjdCA9ICgpID0+IHRlcm0ucHJvbXB0KFtcbiAgICB7XG4gICAgICAgIHR5cGU6ICdpbnB1dCcsXG4gICAgICAgIG5hbWU6ICdwYWNrYWdlLm5hbWUnLFxuICAgICAgICBtZXNzYWdlOiAnW3BhY2thZ2UuanNvbl0gU3BlY2lmeSBuYW1lIGZvciB0aGlzIHByb2plY3QgKG11c3QgYmUgdmFsaWQgYXMgYSBkaXJlY3RvcnkgbmFtZSknXG4gICAgfSxcbiAgICB7XG4gICAgICAgIHR5cGU6ICdpbnB1dCcsXG4gICAgICAgIG5hbWU6ICdwYWNrYWdlLmRlc2MnLFxuICAgICAgICBtZXNzYWdlOiAnW3BhY2thZ2UuanNvbl0gVmVyeSBicmllZmx5IGRlc2NyaWJlIHRoaXMgcHJvamVjdCcsXG4gICAgfSxcbiAgICB7XG4gICAgICAgIHR5cGU6ICdpbnB1dCcsXG4gICAgICAgIG5hbWU6ICdwYWNrYWdlLnJlcG8udXJsJyxcbiAgICAgICAgbWVzc2FnZTogJ1twYWNrYWdlLmpzb25dIFNwZWNpZnkgYSBnaXQgcmVwb3NpdG9yeSBVUkwnXG4gICAgfSxcbiAgICB7XG4gICAgICAgIHR5cGU6ICdpbnB1dCcsXG4gICAgICAgIG5hbWU6ICdkZWJ1Zy5hZGRyZXNzJyxcbiAgICAgICAgbWVzc2FnZTogJ1tsYXVuY2guanNvbl0gU3BlY2lmeSB5b3VyIGRldi9yZW1vdGUvc2VydmVyIGlwIGFkZHJlc3MgKHRoZSBvbmUgcnVubmluZyBub2RlKScsXG4gICAgICAgIGRlZmF1bHQ6ICcxOTIuMTY4LjExNS41J1xuICAgIH0sXG4gICAge1xuICAgICAgICB0eXBlOiAnaW5wdXQnLFxuICAgICAgICBuYW1lOiAnZGVidWcudXJsJyxcbiAgICAgICAgbWVzc2FnZTogJ1tsYXVuY2guanNvbl0gU3BlY2lmeSB0aGUgVVJMIGVudHJ5IHBvaW50IGZvciB5b3VyIGFwcGxpY2F0aW9uJyxcbiAgICAgICAgZGVmYXVsdDogJ2h0dHA6Ly9kZXYubG9jYWw6ODAnXG4gICAgfSxcbiAgICB7XG4gICAgICAgIHR5cGU6ICdpbnB1dCcsXG4gICAgICAgIG5hbWU6ICdkZWJ1Zy5yZW1vdGVSb290JyxcbiAgICAgICAgbWVzc2FnZTogXCJbbGF1bmNoLmpzb25dIFNwZWNpZnkgYW4gKmFic29sdXRlKiBwYXRoIHRvIHRoaXMgcHJvamVjdCdzIHJvb3Qgb24gcmVtb3RlL3NlcnZlclwiXG4gICAgfSxcbiAgICB7XG4gICAgICAgIHR5cGU6ICdjb25maXJtJyxcbiAgICAgICAgbmFtZTogJ2luc3RhbGxUeXBlcycsXG4gICAgICAgIG1lc3NhZ2U6ICdEbyB5b3Ugd2FudCB0byBpbnN0YWxsIEZsb3cgdHlwZXMgZm9yIGFsbCBsb2NhbCBwYWNrYWdlcz8nLFxuICAgICAgICBkZWZhdWx0OiB0cnVlXG4gICAgfSxcbiAgICB7XG4gICAgICAgIHR5cGU6ICdjb25maXJtJyxcbiAgICAgICAgbmFtZTogJ2NvbmZpcm0nLFxuICAgICAgICBtZXNzYWdlOiAnRG9lcyBldmVyeXRoaW5nIGxvb2sgZ29vZD8nLFxuICAgICAgICBkZWZhdWx0OiBmYWxzZVxuICAgIH1cbl0pLnRoZW4oYXN5bmMgYW5zd2VycyA9PiB7XG4gICAgaWYoIWFuc3dlcnMuY29uZmlybSlcbiAgICAgICAgcmV0dXJuIGxvZy5lcnJvcignVGFzayBhYm9ydGVkIScpO1xuXG4gICAgdHJ5IHtcbiAgICAgICAgbG9nLmluZm8oYE1vdmluZyAke3BhdGhzLmVudkRpc3R9IC0+ICR7cGF0aHMuZW52fWApO1xuICAgICAgICBzaC5tdihwYXRocy5lbnZEaXN0LCBwYXRocy5lbnYpO1xuXG4gICAgICAgIGxvZy5pbmZvKGBNb3ZpbmcgJHtwYXRocy5sYXVuY2hKc29uRGlzdH0gLT4gJHtwYXRocy5sYXVuY2hKc29ufWApO1xuICAgICAgICBzaC5tdihwYXRocy5sYXVuY2hKc29uRGlzdCwgcGF0aHMubGF1bmNoSnNvbik7XG5cbiAgICAgICAgbG9nLmluZm8oYE11dGF0aW5nICR7cGF0aHMucGFja2FnZUpzb259YCk7XG4gICAgICAgIGNvbnN0IGRlbHRhMSA9IGF3YWl0IHJlcGxhY2VJbkZpbGUoe1xuICAgICAgICAgICAgZmlsZXM6IHBhdGhzLnBhY2thZ2VKc29uLFxuICAgICAgICAgICAgZnJvbTogWy8oXCJuYW1lXCI6ID8pXCIuKj9cIi9nLCAvKFwiZGVzY3JpcHRpb25cIjogPylcIi4qP1wiL2csIC8oXCJ1cmxcIjogPylcIi4qP1wiL2ddLFxuICAgICAgICAgICAgdG86IFtgJDFcIiR7YW5zd2Vycy5wYWNrYWdlLm5hbWV9XCJgLCBgJDFcIiR7YW5zd2Vycy5wYWNrYWdlLmRlc2N9XCJgLCBgJDFcIiR7YW5zd2Vycy5wYWNrYWdlLnJlcG8udXJsfVwiYF0sXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGxvZy5pbmZvKGBNdXRhdGluZyAke3BhdGhzLmxhdW5jaEpzb259YCk7XG4gICAgICAgIGNvbnN0IGRlbHRhMiA9IGF3YWl0IHJlcGxhY2VJbkZpbGUoe1xuICAgICAgICAgICAgZmlsZXM6IHBhdGhzLmxhdW5jaEpzb24sXG4gICAgICAgICAgICBmcm9tOiBbLyhcImFkZHJlc3NcIjogPylcIi4qP1wiL2csIC8oXCJyZW1vdGVSb290XCI6ID8pXCIuKj9cIi9nLCAvKFwidXJsXCI6ID8pXCIuKj9cIi9nXSxcbiAgICAgICAgICAgIHRvOiBbYCQxXCIke2Fuc3dlcnMuZGVidWcuYWRkcmVzc31cImAsIGAkMVwiJHthbnN3ZXJzLmRlYnVnLnJlbW90ZVJvb3R9XCJgLCBgJDFcIiR7YW5zd2Vycy5kZWJ1Zy51cmx9XCJgXSxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgbG9nLmluZm8oYE11dGF0aW5nICR7cGF0aHMuZ2l0SWdub3JlfWApO1xuICAgICAgICBjb25zdCBkZWx0YTMgPSBhd2FpdCByZXBsYWNlSW5GaWxlKHtcbiAgICAgICAgICAgIGZpbGVzOiBwYXRocy5naXRJZ25vcmUsXG4gICAgICAgICAgICBmcm9tOiAncGFja2FnZS1sb2NrLmpzb24nLFxuICAgICAgICAgICAgdG86ICcnLFxuICAgICAgICB9KTtcblxuICAgICAgICBpZighZGVsdGExLmxlbmd0aClcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgVGhlcmUgd2FzIGFuIGVycm9yIGF0dGVtcHRpbmcgdG8gYWNjZXNzIFwiJHtwYXRocy5wYWNrYWdlSnNvbn1cImApO1xuXG4gICAgICAgIGlmKCFkZWx0YTIubGVuZ3RoKVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBUaGVyZSB3YXMgYW4gZXJyb3IgYXR0ZW1wdGluZyB0byBhY2Nlc3MgXCIke3BhdGhzLmxhdW5jaEpzb259XCJgKTtcblxuICAgICAgICBpZighZGVsdGEzLmxlbmd0aClcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgVGhlcmUgd2FzIGFuIGVycm9yIGF0dGVtcHRpbmcgdG8gYWNjZXNzIFwiJHtwYXRocy5naXRpZ25vcmV9XCJgKTtcblxuICAgICAgICBpZihhbnN3ZXJzLmluc3RhbGxUeXBlcylcbiAgICAgICAge1xuICAgICAgICAgICAgbG9nLmluZm8oYEluc3RhbGxpbmcgZmxvdyB0eXBlcyAocGxlYXNlIGJlIHBhdGllbnQpYCk7XG4gICAgICAgICAgICBzaC5leGVjKCducG0gcnVuIGluc3RhbGwtdHlwZXMnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxvZy5pbmZvKGBSZW1vdmluZyAke3BhdGhzLnBhY2thZ2VMb2NrSnNvbn1gKTtcbiAgICAgICAgc2gucm0oJy1mJywgcGF0aHMucGFja2FnZUxvY2tKc29uKTtcblxuICAgICAgICBsb2cuaW5mbygnUmVtb3ZpbmcgYm9pbGVycGxhdGUgZ2l0IHJlcG9zaXRvcnknKTtcbiAgICAgICAgc2gucm0oJy1yZicsICcuZ2l0Jyk7XG5cbiAgICAgICAgbG9nLmluZm8oJ0luaXRpYWxpemluZyBuZXcgZ2l0IHJlcG9zaXRvcnknKTtcbiAgICAgICAgc2guZXhlYygnZ2l0IGluaXQnKTtcblxuICAgICAgICBsb2cuaW5mbyhgUmVuYW1pbmcgcHJvamVjdCBkaXIgdG8gJHthbnN3ZXJzLnBhY2thZ2UubmFtZX1gKTtcbiAgICAgICAgc2guZXhlYyhgY2QgLi4gJiYgbXYgJyR7cGFyc2VQYXRoKF9fZGlybmFtZSkubmFtZX0nICcke2Fuc3dlcnMucGFja2FnZS5uYW1lfSdgKTtcblxuICAgICAgICBsb2cuaW5mbyhjaGFsay5ncmVlbignQm9pbGVycGxhdGUgZWplY3Rpb24gY29tcGxldGVkIHN1Y2Nlc3NmdWxseSEnKSk7XG4gICAgICAgIGxvZyhgTmV4dCBzdGVwczpcblxcdC0gSWYgeW91J3JlIGdvaW5nIHRvIGhvc3QgdGhpcyBwcm9qZWN0IG9uIEdpdGh1Yi9HaXRsYWIsIGJlZ2luIHRoYXQgcHJvY2VzcyBub3dcblxcdC0gQ2hlY2sgb3ZlciAke3BhdGhzLnBhY2thZ2VKc29ufSBmb3IgYWNjdXJhY3k7IHJlbW92ZSBhbnkgdW5uZWNlc3NhcnkgZGVwZW5kZW5jaWVzL2RldkRlcGVuZGVuY2llcyBhbmQgcnVuIHNjcmlwdHNcblxcdC0gQ2hlY2sgb3ZlciAke3BhdGhzLmxhdW5jaEpzb259IGlmIHlvdSBwbGFuIG9uIHVzaW5nIGxhdW5jaCBjb25maWd1cmF0aW9uc1xuXFx0LSBMb29rIG92ZXIgJHtwYXRocy5lbnZ9IGFuZCBjb25maWd1cmUgaXQgdG8geW91ciBsaWtpbmdcblxcdC0gQ29uc2lkZXIgcmVtb3ZpbmcgJHtwYXRocy5lbnZ9IGZyb20gJHtwYXRocy5naXRJZ25vcmV9IGlmIHRoZXJlJ3JlIG5vIHNlY3JldCB2YWx1ZXMgYmVpbmcgcGFzc2VkXG5cXHQtIFlvdXIgR3VscCBmaWxlIGlzIGF0IC4vJHtwYXRocy5jb25maWdzfS9ndWxwZmlsZS5qcyAke2NoYWxrLmJvbGQoJ2FuZCBub3QgdGhlIHByb2plY3Qgcm9vdCcpfS4gRmVlbCBmcmVlIHRvIGN1c3RvbWl6ZSBpdCFcXG5gKTtcbiAgICB9XG5cbiAgICBjYXRjaChlcnIpIHtcbiAgICAgICAgbG9nLmVycm9yKGNoYWxrLnJlZChgRVJST1I6ICR7ZXJyLnRvU3RyaW5nKCl9YCkpO1xuICAgIH1cbn0pO1xuXG5lamVjdC5kZXNjcmlwdGlvbiA9ICdBc3Npc3RzIGluIGNvbmZpZ3VyaW5nIHRoZSBib2lsZXJwbGF0ZSB0byBiZSBzb21ldGhpbmcgdXNlZnVsJztcblxuZXhwb3J0IHsgZWplY3QsIHJlZ2VuZXJhdGUsIGNsZWFuVHlwZXMgfTtcbiJdfQ==